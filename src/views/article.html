{% extends "layout.html" %}


{% block content %}

<link rel="stylesheet" href="//cdn.jsdelivr.net/medium-editor/latest/css/medium-editor.min.css" type="text/css" media="screen" charset="utf-8">
<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

<!-- Primary Page Layout
  ================================================== -->
  
  <br class="clear" />
  
  <div class="row">
    <div class="twelve column">
      <article class="article-container">
        <h2>{{ article.title }}</h2>
        <div class="article-content">
          {% include "side-comments.html" %}
          {{ article.body}}

        </div>
        <br>
        <p><a href="/">Back to Articles</a></p>
      </article>
    </div><!-- end twelve cols -->

  </div>                                                                                                          
 
   
  
  </div> <!--End of Container -->

  <script src="//cdn.jsdelivr.net/medium-editor/latest/js/medium-editor.min.js"></script>
  <script type="text/javascript" src="https://stillhart.biz/project/MediumButton/js/medium-button.js"></script>
  <script
  src="https://code.jquery.com/jquery-3.1.1.min.js"
  integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
  crossorigin="anonymous"></script>
  <script src="/js/tedium.js"></script>

  <script type="text/javascript">
    var editor = new MediumEditor('.article-container', {
      disableEditing: true,
      toolbar: {
        buttons: ['anchor', 'h2', 'h3', 'highlight', 'comment']
      },
      extensions: {
        'highlight': new MediumButton({
          label: '<i class="fa fa-pencil" aria-hidden="true"></i>',
          start: '<span class="warning">',
          end:   '</span>'
        }),

        'comment': new MediumButton({
          label:'<i class="fa fa-commenting" aria-hidden="true"></i>',
          action: function(html, mark, parent){
                    openFormModal(html);
                    return html;
                  }
        })
      },

    });

    function openFormModal(data){
      $("#comment-form").add();
      $(".inline-modal").show();
    }
    

    $("#comment-form").on('submit',function(evt){
      debugger;
      evt.preventDefault();
      var commentContent = $("#comment-content").val();
      commentContent && $("#comment-form").remove();
      $(".comments-list").append("<li>"+commentContent+ "</li>")
    })

  </script>



{% endblock %}